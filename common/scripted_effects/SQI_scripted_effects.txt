SQI_agriculture = {#给农村问题定值
	add_dynamic_modifier = {
		modifier = SQI_agriculture_modifier
	}
	hidden_effect = { add_ideas = SQI_agriculture_idea }

	set_variable = { SQI_Farmer_vote = -40 }#农民支持度
	set_variable = { SQI_Landlord_vote = 20 }#地主支持度

	set_variable = { HNN_illiteracy_imrovement_rate = 0 }
	SQI_agriculture_modifer = yes
}

SQI_agriculture_modifer = {#通过赋值变动来给效果变化
	set_variable = { SQI_Farmer_vote_var = SQI_Farmer_vote }
	set_variable = { SQI_Landlord_vote_var = SQI_Landlord_vote }

	set_temp_variable = { SQI_Farmer_vote_factor = SQI_Farmer_vote_var }#-40
	set_temp_variable = { SQI_Landlord_vote_factor = SQI_Landlord_vote_var }#20
	set_temp_variable = { SQI_plus_all = SQI_Farmer_vote_factor }
	set_temp_variable = { SQI_plus_all = SQI_Landlord_vote_var }
	add_to_variable = { SQI_plus_all = SQI_Landlord_vote_var }#-20

	divide_temp_variable = { SQI_Farmer_vote_factor = 200 }
	divide_temp_variable = { SQI_Landlord_vote_factor = 200 }
	
	set_variable = { SQI.SQI_agriculture_stability = SQI_Farmer_vote_factor }#-0.20
	set_variable = { SQI.SQI_agriculture_war_support = SQI_Farmer_vote_factor }#-0.20
	
	divide_temp_variable = { SQI_Landlord_vote_factor = 2 }
	set_variable = { SQI.SQI_agriculture_political_power_factor = SQI_Landlord_vote_factor }#0.10

	divide_temp_variable = { SQI_plus_all = 200 }#-0.1
	set_variable = { SQI.SQI_agriculture_production_max_factor = SQI_plus_all }
	set_variable = { SQI.SQI_agriculture_production_gain_factor = SQI_plus_all }

	clear_variable = SQI_Farmer_vote_var
	clear_variable = SQI_Landlord_vote_var

	force_update_dynamic_modifier = yes
	SQI_agriculture_clamp = yes
}

SQI_agriculture_clamp = {#确定上下限
	clamp_variable = {
		var = SQI_Farmer_vote
		min = -50
		max = 50
	}
	clamp_variable = {
		var = SQI_Landlord_vote
		min = -50
		max = 50
	}
}

#德国的影响力
	SQI_econ_update = {
		hidden_effect = {
			SQI_remove_ger_econ = yes
			if = {
				limit = { check_variable = { SQI.SQI_gea_influence_variable > 90 } }
				add_ideas = SQI_gea_influence_idea4
			}
			else_if = {
				limit = { check_variable = { SQI.SQI_gea_influence_variable > 60 } }
				add_ideas = SQI_gea_influence_idea3
			}
			else_if = {
				limit = { check_variable = { SQI.SQI_gea_influence_variable > 30 } }
				add_ideas = SQI_gea_influence_idea2
			}
			else_if = {
				limit = { check_variable = { SQI.SQI_gea_influence_variable > 10 } }
				add_ideas = SQI_gea_influence_idea1
			}
			else = { add_ideas = SQI_gea_influence_idea0 }
		}
	}
	SQI_remove_ger_econ = {
		if = {
			limit = { has_idea = SQI_gea_influence_idea0 }
			remove_ideas = SQI_gea_influence_idea0
		}
		if = {
			limit = { has_idea = SQI_gea_influence_idea1 }
			remove_ideas = SQI_gea_influence_idea1
		}
		if = {
			limit = { has_idea = SQI_gea_influence_idea2 }
			remove_ideas = SQI_gea_influence_idea2
		}
		if = {
			limit = { has_idea = SQI_gea_influence_idea3 }
			remove_ideas = SQI_gea_influence_idea3
		}
		if = {
			limit = { has_idea = SQI_gea_influence_idea4 }
			remove_ideas = SQI_gea_influence_idea4
		}
	}
	SQI_GER_investment_change_inf_effect = {
		add_to_variable = {
			var = SQI.SQI_gea_influence_variable
			value = SQI_gea_inf_change_var
		}
		clamp_variable = {
			var = SQI.SQI_gea_influence_variable
			min = 0
			max = 100
		}
		SQI_econ_update = yes
	}
#增减德国影响力
	SQI_GER_investment_small = {
		if = {
			limit = { SQI_GER_influence_active = yes } 
			set_temp_variable = { SQI_gea_inf_change_var = 5 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_investment_small_tooltip
			log = "SHX_influence_logging; investment increase by +5 [ROOT.GetTag];[GetDateText]; amount after increase: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_investment_medium = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = 10 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_investment_medium_tooltip
			log = "SHX_influence_logging; investment increase by +10 [ROOT.GetTag];[GetDateText]; amount after increase: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_investment_large = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = 15 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_investment_large_tooltip
			log = "SHX_influence_logging; investment increase by +15 [ROOT.GetTag];[GetDateText]; amount after increase: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_investment_giga = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = 30 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_investment_giga_tooltip
			log = "SHX_influence_logging; investment increase by +30 [ROOT.GetTag];[GetDateText]; amount after increase: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}

	SQI_GER_spend_small = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = -5 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_spend_small_tooltip
			log = "SHX_influence_logging; investment decrease by -5 [ROOT.GetTag];[GetDateText]; amount after decrease: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_spend_medium = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = -10 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_spend_medium_tooltip
			log = "SHX_influence_logging; investment decrease by -10 [ROOT.GetTag];[GetDateText]; amount after decrease: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_spend_large = {
		if = {
			limit = { SQI_GER_influence_active = yes } 
			set_temp_variable = { SQI_gea_inf_change_var = -15 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_spend_large_tooltip
			log = "SHX_influence_logging; investment decrease by -15 [ROOT.GetTag];[GetDateText]; amount after decrease: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
	SQI_GER_spend_giga = {
		if = {
			limit = { SQI_GER_influence_active = yes } #make sure that influence is still relevent
			set_temp_variable = { SQI_gea_inf_change_var = -30 }
			hidden_effect = {
				SQI_GER_investment_change_inf_effect = yes
			}
			custom_effect_tooltip = SQI_GER_spend_giga_tooltip
			log = "SHX_influence_logging; investment decrease by -30 [ROOT.GetTag];[GetDateText]; amount after decrease: [?SHX.SHX_QIE_influence_variable];" #temp logging effects so influence could be seen in game log
		}
	}
